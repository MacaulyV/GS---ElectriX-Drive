<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introdução - ElectriXDrive</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/introduction.css">
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@2.9.3/tsparticles.bundle.min.js"></script>
</head>
<body>
<div class="container text-center mt-5">
    <h1 class="mt-3 anime-title">Bem-vindo à <span class="marca">ElectriX-Drive</span></h1>
    <p class="lead anime-paragraph">Compare o custo e a eficiência ambiental do seu veículo com os de um carro elétrico.</p>
    <a href="/explorar" class="btn btn-success btn-animated"><span>Iniciar agora</span></a>
</div>

<!-- Div para as partículas de fundo -->
<div id="particles-js"></div>

<script>
    // Configuração inicial
    const particleConfig = {
        fullScreen: {
            enable: true,
            zIndex: -1
        },
        particles: {
            color: {
                value: ["#3b00ff",] // Define várias cores possíveis para as partículas
            },
            number: {
                value: 0, // Inicia com 0 partículas
                density: {
                    enable: true,
                    area: 800
                }
            },
            color: {
                value: "#00ffff"
            },
            shape: {
                type: "heart",
                stroke: {
                    width: 2,
                    color: "#9100ff"
                },
                polygon: {
                    nb_sides: 5
                }
            },
            opacity: {
                value: 0.5,
                random: false,
                animation: {
                    enable: false,
                    speed: 1,
                    minimumValue: 0.1,
                    destroy: "none"
                }
            },
            size: {
                value: 5,
                random: true,
                animation: {
                    enable: false,
                    speed: 40,
                    minimumValue: 0.1,
                    destroy: "none"
                }
            },
            links: {
                enable: true,
                distance: 300,
                color: "#00ceff",
                opacity: 1.0,
                width: 3
            },
            move: {
                enable: true,
                speed: 10,
                direction: "right",
                random: false,
                straight: false,
                outModes: {
                    default: "out"
                },
                bounce: false,
                attract: {
                    enable: false,
                    rotateX: 600,
                    rotateY: 1200
                }
            }
        },
        interactivity: {
            detectsOn: "canvas", // Onde detectar a interação: 'canvas' detecta apenas dentro da área de partículas, 'window' detecta em toda a janela.
            events: {
                onHover: {
                    enable: true, // Ativa a interação quando o mouse passa sobre as partículas.
                    mode: "bubble" // Define o efeito ao passar o mouse (pode ser 'grab', 'repulse' ou 'bubble').
                },
                onClick: {
                    enable: true, // Ativa a interação ao clicar nas partículas.
                    mode: "bubble" // Define o efeito ao clicar nas partículas (pode ser 'push', 'repulse', 'bubble', etc.).
                },
                resize: true // Atualiza a posição e quantidade de partículas ao redimensionar a janela.
            },
            modes: {
                grab: {
                    distance: 400, // Define a distância máxima em que as partículas se conectam ao cursor com linhas.
                    links: {
                        opacity: 1 // Define a opacidade das linhas que conectam as partículas ao cursor no modo 'grab'.
                    }
                },
                bubble: {
                    distance: 300, // Define até onde o efeito de bolha alcança a partir do cursor.
                    size: 60, // Define o tamanho máximo das partículas durante o efeito de bolha.
                    duration: 2, // Define quanto tempo as partículas permanecem "inchadas" durante o efeito de bolha.
                    opacity: 1, // Define a opacidade das partículas durante o efeito de bolha.
                    speed: 3 // Define a velocidade com que as partículas crescem e diminuem durante o efeito de bolha.
                },
                repulse: {
                    distance: 200, // Define a distância de repulsão entre o cursor e as partículas.
                    duration: 0.4 // Define a duração da repulsão após o mouse passar.
                },
                push: {
                    quantity: 4 // Quantidade de partículas adicionadas quando o modo 'push' é acionado.
                },
                remove: {
                    quantity: 2 // Quantidade de partículas removidas quando o modo 'remove' é acionado.
                }
            }
        },
        retina_detect: true,
        fps_limit: 60
    };

    // Carregar as partículas com atraso inicial de 2500ms
    setTimeout(() => {
        tsParticles.load("particles-js", particleConfig).then((container) => {
            // Inicia o aumento gradual das partículas
            graduallyAddParticles(container, 25, 500); // 50 partículas alvo, adicionadas a cada 100ms
        });
    }, 1500); // 2500 milissegundos = 2.5 segundos

    // Função para adicionar partículas gradualmente
    function graduallyAddParticles(container, targetCount, delay) {
        let currentCount = 0;
        const interval = setInterval(() => {
            container.particles.push(2); // Adiciona 1 partícula por vez
            currentCount++;
            if (currentCount >= targetCount) {
                clearInterval(interval); // Para quando atingir o valor alvo
            }
        }, delay); // Tempo entre cada incremento (100ms)
    }
</script>

<!-- Anime.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
<!-- Seu script JavaScript -->
<script>
    // Efeito de movimento 3D com o mouse
    const container = document.querySelector('.container');

    container.addEventListener('mousemove', (e) => {
        const {width, height, left, top} = container.getBoundingClientRect();
        const x = e.clientX - left - width / 2;
        const y = e.clientY - top - height / 2;
        const rotateX = (y / height) * 25;
        const rotateY = (x / width) * -25;
        container.style.transform = `perspective(2000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.10)`;
    });

    container.addEventListener('mouseleave', () => {
        container.style.transform = 'perspective(2000px) rotateX(0deg) rotateY(0deg) scale(1)';
        container.style.transition = 'transform 0.5s ease-out';
    });

    container.addEventListener('mouseenter', () => {
        container.style.transition = 'transform 0.2s ease-out';
    });

    // Animação de entrada com Anime.js
    document.addEventListener("DOMContentLoaded", () => {
        anime.timeline({ loop: false })
            // Primeira parte: movimento da esquerda para o centro
            .add({
                targets: '.container',
                opacity: [0,1], // Aparecendo suavemente
                translateX: ['-100vw', '0'], // Movimento da esquerda da tela até o centro
                easing: 'easeOutQuad', // Efeito suave para o movimento
                duration: 3000, // Duração do movimento até o centro
            })

            .add({
                targets: '.anime-title',
                opacity: [0, 1],
                translateY: [50, 0],
                easing: 'easeOutExpo',
                duration: 1200,
            })
            .add({
                targets: '.anime-paragraph',
                opacity: [0, 1],
                translateY: [30, 0],
                easing: 'easeOutExpo',
                duration: 1200,
                offset: '-=800' // Sobrepõe a animação anterior
            })
            .add({
                targets: '.btn-animated',
                scale: [0.8, 1],
                opacity: [0, 1],
                easing: 'easeOutExpo',
                duration: 1000,
                delay: 500
            });
    });
</script>
</body>
</html>
